<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssm.demo.mapper.TotalMapper">

	<select id="findByYear"
		resultType="com.ssm.demo.entity.AttendanceMonth">
		SELECT
		LEFT(ATTENDANCE_YM,4) AS ATTENDANCE_YEAR,
		RIGHT(ATTENDANCE_YM,2) AS ATTENDANCE_MONTH
		FROM M_ATTENDANCE_YM WHERE
		DEL_FLG=0;
	</select>

	<select id="findworkday"
		resultType="com.ssm.demo.entity.BusinessDays">
		SELECT
		EXTRACT(YEAR FROM CALENDAR_DATE) AS ATTENDANCE_YEAR,
		EXTRACT(MONTH FROM CALENDAR_DATE) AS ATTENDANCE_MONTH,
		COUNT(*) AS DAY_COUNT
		FROM
		M_CALENDAR
		WHERE
		HOLIDAY_FLG = 0
		AND DEL_FLG = 0
		GROUP BY
		EXTRACT(YEAR FROM CALENDAR_DATE),
		EXTRACT(MONTH FROM CALENDAR_DATE);

	</select>







</mapper>